MODULE test =
BEGIN
MACRO
    farfel (p1, p2) =
    BEGIN
        LOCAL tmp;
        tmp = (p1);
        (p1) = (p2);
        (p2) = tmp;
    END%,
    nullmacro = %,
    cmacro (x)[] = %STRING(x), cmacro(%REMAINING) %,
    cmnoparams = 'bite me' %,
    imacro (x)[y] = 'Identical=',%IDENTICAL(x,y),' '%;

KEYWORDMACRO
    copyvector(dest,source,n=1) =
        INCR i FROM 1 TO n DO
            dest[.i] = .source[.i] %;
            
MACRO
    HOHOHO = (A,B)%,
    SPTEST1(x) = %STRING('Length=',%NUMBER(%LENGTH)) %,
    SPTEST2(x)[] = %STRING('Count=',%NUMBER(%COUNT),' ',SPTEST2(%REMAINING))%,
    SPTEST3(x)[y] =
        %STRING('X=',x,',Y=',y,',Count=',%NUMBER(%COUNT),%CHAR(13),%CHAR(10))%;
    
%MESSAGE(%Ascii'...all macros defined...')
ROUTINE testroutine : NOVALUE =
BEGIN
    LOCAL
        eatme : VECTOR[10],
        biteme : VECTOR[10],
        x, y;
%INFORM('hi')
    copyvector(dest=eatme,source=biteme,n=10);
    farfel(x,y);
%MESSAGE(cmacro(xxx,yyy,zzz))
%MESSAGE(cmnoparams)
%MESSAGE(imacro((a,b),HOHOHO,(a,b)))
%MESSAGE(SPTEST1(a))
%MESSAGE(SPTEST1((a+b),(c+d),(e-f)))
%MESSAGE(SPTEST2(a))
%MESSAGE(SPTEST2(a,b,c,d,e,f,g))
%MESSAGE(SPTEST3(a,b))
%MESSAGE(SPTEST3('a','b','c','d','e','f','g'))
END; ! testroutine
END
ELUDOM